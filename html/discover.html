<!doctype html>
<html>

	<head>
		<meta charset="utf-8">
		<title></title>
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<link rel="stylesheet" href="../css/mui.min.css">
		<link rel="stylesheet" href="../css/swiper.min.css">
		<link rel="stylesheet" href="../css/discover.css">
		<style type="text/css">
			[v-cloak] {
				display: none;
			}

			.swiper-container {
				min-height: 300px;
			}

			.swiper-slide {
				color: #FFFFFF;
				display: flex;
				align-items: center;
				justify-content: center;
				height: 300px;
				width: 100%;
				background-color: #FFFFFF;
			}

			.swiper-slide img {
				width: 100%;
				height: 100%;
				object-fit: cover;
			}

			.swiper-pagination-bullet.swiper-pagination-bullet-active {
				background-color: #FFFFFF;
				opacity: 0.8;
				transform: scale(1.3);
				-webkit-transform: scale(1.3);
				transition: all 0.25s ease-in-out;
				-webkit-transition: all 0.25s ease-in-out;
			}

			.swiper-pagination-bullet {
				background-color: rgba(255, 255, 255, 1);
				opacity: 0.3;
				transition: all 0.25s ease-in-out;
				-webkit-transition: all 0.25s ease-in-out;
			}
		</style>
		<script type="text/javascript">
			// 初始化字体大小
			var viewport = document.documentElement.clientWidth;
			if (viewport > 750) {
				viewport = 750
			}
			document.documentElement.style.fontSize = viewport / 7.5 + "px";
			 
			// 初始化字体大小结束
		</script>
	</head>

	<body>
		<div id="mui-content" class="mui-content discover-container" v-cloak>
			<div class="swiper-container">
				<div class="swiper-wrapper">
					<div class="swiper-slide" v-for="(banner,index) in slider" :key="index">
						<img :src="banner.image">
					</div>
				</div>
				<div class="swiper-pagination"></div>
			</div>
			<div id="discover-container">
				<div class="user-part1">
					<div class="user-head-cont">
						<div class="user-head-img">
							<img class="head-img" src="../image/discover/MUJ11mx.jpg" >
						</div>
						<img class="rank" src="../image/discover/rank_icon_03.png" alt="">
					</div>
					<div class="user-info">
						<div class="user-info-top">张飞飞</div>
						<p class="signature mui-ellipsis">个性签名，个性签名，个性签名，个性签名个性签名个性签名。</p>
					</div>
				</div>
				<div style="height: 1200px;display: flex;overflow: hidden; padding:20px 20px 0;box-sizing: border-box;">
					Expedita est ipsa dicta ad consectetur sequi eos odit placeat ut voluptatibus. Expedita recusandae inventore
					accusamus sit iure earum dolorem numquam ut voluptas quis excepturi alias voluptatum.
				</div>
			</div>
		</div>
		<script src="../js/mui.js"></script>
		<script src="../js/util.js"></script>
		<script src="../js/swiper.min.js"></script>
		<script src="../js/vue.min.js"></script>
		<script type="text/javascript">
			var userInfo=getUserInfo();
			logs(userInfo);
			var app = new Vue({
				el: "#mui-content",
				data: {
					slider: [{
						type: 'article',
						id: '2',
						image: "../image/share/bg-img02.jpg"
					}, {
						type: 'goods',
						id: '36',
						image: "../image/share/bg-img03.jpg"
					}, {
						type: 'goods',
						id: '69',
						image: "../image/bj.jpg"
					}, ]
				},
				methods: {

				},
				mounted: function() {
					mui.init();
					// 初始化轮播
					initSlider();
					mui.plusReady(function() {
						var ws = plus.webview.currentWebview();
						ws.setStyle({
							scrollIndicator:'none',
							"titleNView": {
								backgroundColor: '#ededed', //导航栏背景色
								titleColor: '#000000', //文字颜色
								type: 'transparent', //透明渐变样式
								buttons: [{
									fontSrc:'../fonts/iconfont.ttf',
									text: '\ue60e',
									float: 'right',
									onclick: "javascript:plus.webview.currentWebview().evalJS('shareHref();')"
								}]
							}
						})

						// 滚动的时候动态修改状态栏颜色
						var conts = document.getElementById("discover-container");
						window.addEventListener('scroll', function() {
							if (conts.getBoundingClientRect().top <= 280) {
								plus.navigator.setStatusBarStyle("dark");
							} else {
								plus.navigator.setStatusBarStyle("light");
							}
						});
					})
				}
			})
			function initSlider() {
				// 初始化轮播
				var mySwiper = new Swiper('.swiper-container', {
					//可选选项，自动滑动
					autoplay: {
						delay: 3000,
						// 用户操作之后不会停止轮播
						disableOnInteraction: false,
					},
					loop: true,
					// 分页器
					pagination: {
						el: '.swiper-pagination',
					},
				})
			}
			// 点击自定义图标
			function shareHref(){
				message("骚年，你想干嘛？");
			}
		</script>
	</body>

</html>
